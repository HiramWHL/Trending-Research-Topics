
利用GNN实现路由
---
现有神经网络的研究主要集中于欧几里得数据，这种数据最显著的特征就是有规则的空间结构，能够用一维、二维的矩阵表示。但网络并不具备规则的空间结构，网络拓扑图很难用CNN、RNN等进行训练。

图神经网络是一种直接在图结构上运行的神经网络。图有两个基本特性：每个节点都有自己的特征信息；图谱中的每个节点具有结构信息。网络上的每个路由器既有自己ip地址、MAC地址、设备号等，又存储了邻居节点的相关信息，网络本身的结构特性决定了路由问题适合用图神经网络解决。

目前路由技术主要基于路由表实现，路由表中保存着子网的标志信息、网上路由器的个数和下一个路由器的名字等内容。路由器按照某种路由通信协议，查找路由表。如果到特定的节点有一条以上路径，则基于预先确定的准则选择最优的路径。如果一个节点不在路由表中，那么路由器会将数据包发送给默认路由，即使默认路由并不是最佳路由。如果一个数据包涉及了域间路由，那这个数据包必须先传送至边界路由器，即使边界路由器离目的路由器更远。简而言之，路由表有“看不见、看不远”的缺陷。

图神经网络保留了一种状态，可以表示来自其邻域的具有任意深度的信息，也就是说，图神经网络中的节点可以获得任意可达节点的信息，若能对完整的网络拓扑图进行学习，那么对图中每个节点都不会存在隐身的对象。将此特性应用于路由，或许可以更好地找出任意两个节点间的最佳路径。

图神经网络通过图节点之间的消息传递来捕捉图的依赖关系。路由器执行“数据传递”的功能，且能准确记录数据传递方向、传递数量、传递层数（TTL），所以依赖关系的捕捉能够通过这些已实现的基础功能轻易完成。

现在的Internet是基于TCP/IP协议栈实现的，路由器在查找目标对象时，非常依赖ip地址，以至于不支持非路由协议，将图神经网络运用于路由，或许可以改变internet的实现方式。GNN将削弱路由对ip的依赖，许多基于ip协议漏洞的攻击都将失去效果。ip地址不再是唯一的身份标识，节点的属性，节点周围的结构，都是节点的一部分。例如女巫攻击，A节点假冒B节点以偷取其他节点传送给B节点的信息，通过GNN，其他节点既可发现A，又能看到B，除非A能完全模仿B的属性结构，否则其他节点不会将二者视为同一对象。简单来说，GNN能够使“ip欺骗”失效。

现阶段利用GNN实现路由还有很多问题要解决。首先，GNN的两种典型应用分别是“给节点添加属性”和“给图添加新边”，能否正确“找出两个节点间的最短路径”还有待验证。其次，TTL的存在虽然限制依赖关系的层级上限，使得所有节点理论上都可在TTL之内抵达，但TTL的推荐数值是64，最高可达255，相比于推荐系统7、8层神经网络即可获得良好收敛效果，这个数值有些略高。最后，GNN的训练需要足够的计算资源和时间，网络环境瞬息万变，模型的调整速度赶不上网络的变化速度，这会严重拖累路由器的工作效率。

以上就是我对GNN实现路由的猜想。灵感来自 吴国栋,查志康,涂立静,陶鸿,宋福根.图神经网络推荐研究进展[J/OL].智能系统学报:1-13[2020-04-24].http://kns.cnki.net/kcms/detail/23.1538.TP.20200320.1246.018.html. 这篇文章提到，推荐系统的本质是在图中添加理应存在的边。即通过多条可见的边，推测出一条未记录边，反向推测或许可以根据一条边，计算出一组首尾相连的等效边。后者就是路由技术的本质。