> #### *笔记作者信息：网络空间安全学院 韩鑫华 2017141531056*

1. ### 图神经网络概述

   图神经网络（GNNs）广泛应用于图的表征学习，其遵循邻域聚合框架，通过递归聚合和转换相邻节点的特征向量来计算节点的表征向量。GNN不仅能考虑节点本身的属性，还能同时考虑到网络结构特征，进而刻画黑灰产的关系、团伙以及产业链信息，在风控场景中取得了广泛的应用和效果增益。

   将各种GNN模型应用到风控场景中复杂且巨大的图结构上，是一件十分有挑战的事情，我们面临的图结构往往有着以下两个特点：
   • 高度异构：节点和边都丰富多样；
   • 数据规模巨大：很多图结构都是亿级节点、数十亿甚至上百亿的边。

2. ### 在网络安全方面的应用

   关系数据的挖掘是绝大部分反欺诈业务开展最重要的技术视角，不论是基于欺诈风险传播的关联分析还是基于黑产团伙模式的结构化挖掘，图都是反欺诈业务人员的首选工具。在这样的背景下，GNN 也变得极有发挥空间。在此方面的研究成果主要包括以下两篇论文：“Heterogeneous Graph Neural Networks for Malicious Account Detection”，“Spam Review Detection with Graph Convolutional Networks”。

   前者运用 GNN 对支付宝欺诈用户进行识别检测，后者运用 GNN 对咸鱼上的评论进行欺诈识别。

3. ### 应用原理概述

   1. **GEM：**针对恶意账户设备和行为聚集性（在文章SynchroTrap中攻击者的经济约束），提出了**GEM(Graph Embeddings for Malicious accounts)**系统：受到连通子图的启发，构建账户-不同设备异构网络，以拓扑结构和行为特征作为输入直接学习图神经网络模型**f(X, G)**。并且引入注意力机制，考虑不同类型设备的权重，为不同类型的节点分配不同的注意力。聚合每种节点的信息时，使用求和的方式。

      两个主要特征：

      - **设备聚集(Device aggregation)**

        攻击者要承受计算资源带来的成本，所以大多数攻击者只在少数计算资源上注册或频繁地登录。如果一个帐户注册或登录同一个（一组）设备或一组公共设备，若这一个（一组）设备上有大量其他账户，那么此类帐户将是可疑的。

      - **行为聚集(Activity aggregation)**

        攻击者受攻击时间的限制，通常要在很短的时间内完成既定目标，所以恶意账户的行为可能在有限的时间内爆发。如果共享设备的账户行为是批量进行的，那么这些账户是可疑的。

   2. **GAS**：作者设计了名为 **GCN-based Anti-Spam System(GAS)** 的垃圾评论过滤系统。GAS 会使用两个图来引入不同的上下文的信息。首先是一个异构图，它引入**局部上下文**信息，另一个是同构图 Comment Graph，它引入了**全局上下文**信息。其中局部上下文包含发这条评论的买家特征及行为和这条评论对应的商品特征等信息，而全局上下文表示当前评论在全部评论中的扮演的角色。如下所示为 GAS 的整体概览，其中模型会从左侧图抽取出表示商品、用户和评论的信息，从右侧抽取出类似评论表示的意义。分别运行不同的图卷积算法，并最终融合两个图模型的上下文信息，结合这些信息进行分类，从而判断一个评论是不是有问题。

      ![](http://imglf4.nosdn0.126.net/img/bG1jbzEvdHVjVjA3QlEzQmdheGFSQ3dlRnhEOFFENlpjRjN1TEJnSTduZGlVcVN1dUU3NXJBPT0.png?imageView&thumbnail=1680x0&quality=96&stripmeta=0)

      - Xianyu Graph 上的异构卷积网络：在同构图上基于GCN的节点分类任务中，使用来自最后一层的节点嵌入作为分类器的输入；利用来自最后传播层的边缘嵌入以及该边缘链接到的两个节点的嵌入；将这三个嵌入连接起来进行边缘分类。
        生成（初始化）节点和边特征(Aggregation Sub-layer)；

        分别计算邻居聚合信息并将邻居信息与自身节点信息拼接(Combination Sub-layer)；
        batch-size采样以及通过GCN结构生成各实体的隐向量(Time-related Sampling)；

      - Comment Graph的同构网络：

        移除所有重复的评论；

        通过sentence embedding为评论生成评论（初始）嵌入向量；

        构建 KNN Graph，如下图所示；

        ![](http://imglf3.nosdn0.126.net/img/bG1jbzEvdHVjVjNuZ09vMXN0Qjc0WjQzMWZxUWV3ZS9qcGViM0c5MTNrbUZYRC9ZZ0FQbitnPT0.png?imageView&thumbnail=1680x0&quality=96&stripmeta=0)

        删除由同一用户发布的评论对或在同一项下发布的评论对；

        提取评论的embedding向量并与上一网络输出的特征拼接后输入到分类器。

4. ### 总结

   本文记录了图神经网络应用及相关原理，该领域未来的一个可能趋势是超越邻域聚合（或消息传递）框架，以追求更强大的图学习架构。

   从理论研究上看，不断解构 GNN 相关的原理、特色与不足，进而提出相应地改进与拓展，是非常值得关注的部分。另外，关于一直以来研究 GNN 所用的标准数据集，如 Cora、PubMed，这些数据集场景单一、异构性不足，难以对复杂的 GNN 模型进行准确评价，针对这一问题，近期斯坦福大学等开源的 OGB 标准数据集有望大大改善这个现状。

   在应用场景上，GNN 除了在视觉推理、点云学习、关系推理、科研、知识图谱、推荐、反欺诈等领域有广泛应用外，在其他的一些场景，如交通流量预测、医疗影像、组合优化等，也出现了一些 GNN 相关的工作。