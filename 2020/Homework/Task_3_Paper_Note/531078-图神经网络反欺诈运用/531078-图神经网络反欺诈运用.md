##图神经网络反欺诈运用

>图神经网络运用很广，通过网络搜索，也了解到不少。通过阅读蚂蚁金服团队一篇文章了解到在恶意用户检测方面。

## 什么是图神经网络

图是一种数据结构，它对一组对象(节点)及其关系(边)建模。最近,研究分析图表和机器学习已经收到越来越多的关注,因为图形的表达能力,即图可以用来表示包括社会科学(社交网络)、自然科学（物理系统和蛋白质相互作用网络）、知识图和许多其他研究领域在内的各个领域的大量系统。图分析作为一种独特的机器学习非欧几里德数据结构，其研究重点是节点分类、链路预测和聚类。图神经网络（GNNs）是一种基于图域的深度学习方法。由于其令人信服的性能和较高的可解释性，GNN近年来已成为一种广泛应用的图分析方法。

## 引出

现在大型网络服务常常成为攻击目标，比如创建一些恶意账户，传播垃圾邮件获利，这样破坏了软件的生态系统。例如，许多滥用的漫游器帐户被用来发送在整个电子邮件系统中清除了数十亿封垃圾邮件。更严重的是，在像支付宝这样的金融系统中，的帐户被恶意用户或一组用户接管，那些恶意用户可能会变现并获得不义之财收益，对整个金融体系造成极大损害。效果主动准确地检测到此类恶意帐户会在此类系统中扮演重要角色。

## 内容

蚂蚁金服提出了一种新颖的基于神经网络的图表示联合识别恶意帐户的方法捕获攻击者的两个弱点，这也是第一通过应用图神经网络解决了检测恶意账户问题。这个方法部署到支付宝中后，可以每天检测数以万计的恶意帐户。
在异构网络中使用Graph Neural network去进行欺诈。首先作者根据分析出的欺诈账户规律，总结出了黑产用户活动的2个规律：

* Device aggregation（设备聚集性，这里的设备是一个 抽象的概念，具体化可以有IP，设备ID，账户等信息。设备聚集性说的是黑产手中的设备资源是有限的）;

* 2 Activity aggregation（活动方式的聚集性，即由于黑产设备是在同一批的控制之下活动的，那么这些账户之间一定存在着较大的共线性）。

论文提出的是一个异构网络，即网络中的节点包括了2类：Account(账户) 和 Device(设备资源)。如果网络中某一个节点account i在设备节点device j上有登录或者注册等行为（这里的account可以认为是主维度字段，device可以认为是关联维度字段），那么节点i和j之间就有一条边，这样N个account和device的节点就可以形成一个网络G，由于这里面的设备是一个抽象的概念，如果具体的话可以有IP，设备ID，阿里设备指纹等形式(假设具体的设备字段个数为D)，所有针对某一类具体的设备字段d会有一个sub-graph，而sub-graph的邻居矩阵维度即顶点数和G一样，只不过只留下了和当前type d有关系的边。
然后定义初始状态矩阵，可以发现矩阵的行数是N(节点数量)，而列数是p+∣D∣。p是当节点为account时，将数据按照时间划分出p个time slot，统计每一个time slot中的操作次数；而D是当节点为device不同关联维度的种类数的数量。由于是异构网络，一个矩阵中存在含义不同的节点，但是为了保证每一个节点的维度都一致，多余的维度即针对account 节点来说就多余了D为，对于device 节点来说就多余了p维，都采用填充0的方式进行对齐。

## 总结

近两年机器学习，神经网络都特别火热。如果能把类似GNN等这些技术，改进传统的安全解决方案，一定会有更多新的火花。通过蚂蚁金服团队这个创新点，我从中也学习到图神经网络应用形式，收获很大。
